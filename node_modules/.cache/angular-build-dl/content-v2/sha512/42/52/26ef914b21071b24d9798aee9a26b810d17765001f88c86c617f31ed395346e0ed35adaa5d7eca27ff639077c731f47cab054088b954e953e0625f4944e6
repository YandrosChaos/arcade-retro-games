!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function n(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,o=r(e);if(t){var i=r(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return a(this,n)}}function a(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}(self.webpackChunkretro_arcade_games=self.webpackChunkretro_arcade_games||[]).push([[1483],{1483:function(t,i,a){"use strict";a.r(i),a.d(i,{HomePageModule:function(){return B}});var r=a(8583),u=a(3083),c=a(665),l=a(2316);function h(e,t,n,o){return new(n||(n=Promise))(function(i,s){function a(e){try{u(o.next(e))}catch(t){s(t)}}function r(e){try{u(o.throw(e))}catch(t){s(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,r)}u((o=o.apply(e,t||[])).next())})}var f=a(2356),d=a.n(f),m=a(4251),p=function(t){o(a,t);var i=s(a);function a(){return e(this,a),i.call(this,{key:"GameScene"})}return n(a,[{key:"init",value:function(e){this.delta=1e3,this.lastBombTime=0,this.bombsCaught=0,this.bombsFallen=0}},{key:"preload",value:function(){this.load.audio("explosion-sound","assets/games/k-boom/explosion-sound-effect.mp3"),this.load.audio("dead-sound","assets/games/k-boom/deadnotification.wav"),this.load.audio("ingame-music","assets/games/k-boom/IntergalacticOdyssey.ogg"),this.load.image("bomb","assets/games/k-boom/meteo.png"),this.load.image("floor","assets/games/k-boom/sand.png"),this.load.image("background","assets/games/k-boom/space.jpg"),this.load.spritesheet("kaboom","assets/games/k-boom/explode.png",{frameWidth:128,frameHeight:128})}},{key:"create",value:function(){this.music=this.sound.add("ingame-music",{volume:.2,loop:!0}),this.music.play(),this.explosionSound=this.sound.add("explosion-sound",{volume:1}),this.deadSound=this.sound.add("dead-sound",{volume:1}),this.add.tileSprite(0,m.Xn/2,2*m.hh,2*m.Xn,"background").setAngle(90),this.floor=this.physics.add.staticGroup({key:"floor",frameQuantity:2}),d().Actions.PlaceOnLine(this.floor.getChildren(),new(d().Geom.Line)(25,m.Xn-50,m.hh+200,m.Xn-50)),this.floor.refresh(),this.info=this.add.text(10,10,"",{font:"24px Minecraft Bold",color:"#FBFBAC"}),this.anims.create({key:"explode",frames:this.anims.generateFrameNumbers("kaboom",{start:0,end:15}),frameRate:16,repeat:0,hideOnComplete:!0}),this.explosions=this.add.group({defaultKey:"kaboom",maxSize:-1})}},{key:"update",value:function(e){e-this.lastBombTime>this.delta&&(this.lastBombTime=e,this.delta>500&&(this.delta-=20),this.emitBomb()),this.info.text=this.bombsCaught+" caught - "+this.bombsFallen+" fallen (max 3)"}},{key:"onClick",value:function(e){return function(){return h(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.setVelocity(0,0),this.bombsCaught+=1,this.time.delayedCall(100,function(e){return h(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.explosionEffect(e),e.destroy();case 1:case"end":return t.stop()}},t,this)}))},[e],this);case 1:case"end":return t.stop()}},t,this)}))}}},{key:"onFall",value:function(e){return function(){return h(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.bombsFallen+=1,this.time.delayedCall(100,function(e){return h(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.explosionEffect(e),e.destroy(),this.bombsFallen>2&&this.gameOver();case 1:case"end":return t.stop()}},t,this)}))},[e],this);case 1:case"end":return t.stop()}},t,this)}))}}},{key:"emitBomb",value:function(){var e=d().Math.Between(100,200),t=d().Math.FloatBetween(.12,.17),n=d().Math.Between(25,m.hh-25),o=this.physics.add.image(n,25,"bomb");o.setAngle(180),o.setDisplaySize(m.hh*t,.15*m.Xn),o.setVelocity(0,e),o.setInteractive(),o.on("pointerdown",this.onClick(o),this),this.physics.add.collider(o,this.floor,this.onFall(o),null,this)}},{key:"gameOver",value:function(){this.music.destroy(),this.deadSound.play(),this.scene.start("ScoreScene",{bombsCaught:this.bombsCaught})}},{key:"explosionEffect",value:function(e){var t=this.explosions.get().setActive(!0);t.setOrigin(.5,.5),t.x=e.x,t.y=e.y,this.explosionSound.play(),t.play("explode")}}]),a}(d().Scene),g=function(t){o(a,t);var i=s(a);function a(){var t;return e(this,a),(t=i.call(this,{key:"ScoreScene"})).hintText="Touch to restart",t}return n(a,[{key:"init",value:function(e){this.score=e.bombsCaught}},{key:"preload",value:function(){this.load.image("background","assets/games/k-boom/space.jpg")}},{key:"update",value:function(e){var t,n=Number((e/1e3).toFixed(0));null===(t=this.hint)||void 0===t||t.destroy(),n%2!=0&&(this.hint=this.add.text(this.calculateHalfOfHalf(m.hh),this.calculateHalfOfHalf(m.Xn)+75,this.hintText,{font:"2rem Arial Bold",color:"#BC00FF"}))}},{key:"create",value:function(){this.add.tileSprite(0,m.Xn/2,2*m.hh,2*m.Xn,"background").setAngle(90);var e="Your score is "+this.score;this.result=this.add.text(this.calculateHalfOfHalf(m.hh),this.calculateHalfOfHalf(m.Xn)-50,e,{font:"2rem Arial Bold",color:"#FBFBAC"}),this.input.on("pointerdown",function(){this.scene.start("WelcomeScene")},this)}},{key:"calculateHalfOfHalf",value:function(e){return e/2/2}}]),a}(d().Scene);function y(e){return e/2/2}var b,v,k=function(t){o(a,t);var i=s(a);function a(){var t;return e(this,a),(t=i.call(this,{key:"WelcomeScene"})).hintText="Touch!",t}return n(a,[{key:"preload",value:function(){this.load.audio("menu-music","assets/games/k-boom/k-boom_menu.mp3"),this.load.audio("start-sound","assets/games/k-boom/start-game.wav"),this.load.bitmapFont("Xenon","assets/fonts/xenon/Xenon.png","assets/fonts/xenon/Xenon.fnt"),this.load.bitmapFont("Minecraft","assets/fonts/minecraft/minecraft-green.png","assets/fonts/minecraft/minecraft-green.fnt"),this.load.image("background-menu","assets/games/k-boom/menu_background.jpg")}},{key:"create",value:function(){this.startGameSound=this.sound.add("start-sound",{volume:1}),this.music=this.sound.add("menu-music",{volume:.5,loop:!0}),this.music.play(),this.add.tileSprite(0,m.Xn,2*m.hh,2*m.Xn,"background-menu"),this.title=this.add.bitmapText(y(m.hh)/2.5,y(m.Xn)-100,"Xenon","K-BOOM!",m.hh/5),this.input.on("pointerdown",function(){this.startGameSound.play(),this.music.destroy(),this.scene.start("GameScene")},this)}},{key:"update",value:function(e){var t,n=Number((e/1e3).toFixed(0));null===(t=this.hint)||void 0===t||t.destroy(),n%2!=0&&(this.hint=this.add.bitmapText(y(m.hh)+50,m.Xn-100,"Minecraft",this.hintText,m.hh/10))}}]),a}(d().Scene),x=a(639),w=a(3332),O=[{path:"",component:(b=function(){function t(n,o){e(this,t),this.router=n,this.dataTransferenceService=o}return n(t,[{key:"ngOnInit",value:function(){}},{key:"onNavigateTo",value:function(){this.dataTransferenceService.save({key:"K-BOOM!",data:{gameName:"K-BOOM!",scenes:[k,p,g]}}),this.router.navigate(["/game-loader"])}},{key:"ngOnDestroy",value:function(){this.dataTransferenceService.clearAll()}}]),t}(),b.\u0275fac=function(e){return new(e||b)(x.Y36(l.F0),x.Y36(w.Q))},b.\u0275cmp=x.Xpm({type:b,selectors:[["app-home"]],decls:9,vars:0,consts:[["slot","start"],[1,"ion-padding","ion-text-center"],[3,"click"]],template:function(e,t){1&e&&(x.TgZ(0,"ion-header"),x.TgZ(1,"ion-toolbar"),x.TgZ(2,"ion-buttons",0),x._UZ(3,"ion-back-button"),x.qZA(),x.TgZ(4,"ion-title"),x._uU(5,"Games"),x.qZA(),x.qZA(),x.qZA(),x.TgZ(6,"ion-content",1),x.TgZ(7,"ion-button",2),x.NdJ("click",function(){return t.onNavigateTo()}),x._uU(8,"Play K-BOOM"),x.qZA(),x.qZA())},directives:[u.Gu,u.sr,u.Sm,u.oU,u.cs,u.wd,u.W2,u.YG],styles:[""]}),b)}],S=function(){var t=function t(){e(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=x.oAB({type:t}),t.\u0275inj=x.cJS({imports:[[l.Bz.forChild(O)],l.Bz]}),t}(),B=((v=function t(){e(this,t)}).\u0275fac=function(e){return new(e||v)},v.\u0275mod=x.oAB({type:v}),v.\u0275inj=x.cJS({imports:[[r.ez,c.u5,u.Pc,S]]}),v)}}])}();