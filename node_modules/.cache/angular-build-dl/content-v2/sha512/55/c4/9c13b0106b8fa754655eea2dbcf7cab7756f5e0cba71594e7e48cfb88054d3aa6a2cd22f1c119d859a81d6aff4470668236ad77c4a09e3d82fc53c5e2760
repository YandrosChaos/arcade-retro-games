!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function n(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var n,o=r(t);if(e){var i=r(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return a(this,n)}}function a(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function r(t){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}(self.webpackChunkretro_arcade_games=self.webpackChunkretro_arcade_games||[]).push([[1483],{1483:function(e,i,a){"use strict";a.r(i),a.d(i,{HomePageModule:function(){return S}});var r=a(8583),u=a(3083),c=a(665),l=a(2316);function h(t,e,n,o){return new(n||(n=Promise))(function(i,s){function a(t){try{u(o.next(t))}catch(e){s(e)}}function r(t){try{u(o.throw(t))}catch(e){s(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,r)}u((o=o.apply(t,e||[])).next())})}var f=a(2356),d=a.n(f),m=a(4251),p=function(e){o(a,e);var i=s(a);function a(){return t(this,a),i.call(this,{key:"GameScene"})}return n(a,[{key:"init",value:function(t){this.delta=1e3,this.lastBombTime=0,this.bombsCaught=0,this.bombsFallen=0}},{key:"preload",value:function(){this.load.audio("explosion-sound","assets/games/k-boom/explosion-sound-effect.mp3"),this.load.audio("dead-sound","assets/games/k-boom/deadnotification.wav"),this.load.audio("ingame-music","assets/games/k-boom/IntergalacticOdyssey.ogg"),this.load.image("bomb","assets/games/k-boom/meteo.png"),this.load.image("floor","assets/games/k-boom/sand.png"),this.load.image("background","assets/games/k-boom/space.jpg"),this.load.spritesheet("kaboom","assets/games/k-boom/explode.png",{frameWidth:128,frameHeight:128})}},{key:"create",value:function(){this.music=this.sound.add("ingame-music",{volume:.2,loop:!0}),this.music.play(),this.explosionSound=this.sound.add("explosion-sound",{volume:1}),this.deadSound=this.sound.add("dead-sound",{volume:1}),this.add.tileSprite(0,m.Xn/2,2*m.hh,2*m.Xn,"background").setAngle(90),this.floor=this.physics.add.staticGroup({key:"floor",frameQuantity:2}),d().Actions.PlaceOnLine(this.floor.getChildren(),new(d().Geom.Line)(25,m.Xn-50,m.hh+200,m.Xn-50)),this.floor.refresh(),this.info=this.add.text(10,10,"",{font:"24px Minecraft Bold",color:"#FBFBAC"}),this.anims.create({key:"explode",frames:this.anims.generateFrameNumbers("kaboom",{start:0,end:15}),frameRate:16,repeat:0,hideOnComplete:!0}),this.explosions=this.add.group({defaultKey:"kaboom",maxSize:-1})}},{key:"update",value:function(t){t-this.lastBombTime>this.delta&&(this.lastBombTime=t,this.delta>500&&(this.delta-=20),this.emitBomb()),this.info.text=this.bombsCaught+" caught - "+this.bombsFallen+" fallen (max 3)"}},{key:"onClick",value:function(t){return function(){return h(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.setVelocity(0,0),this.bombsCaught+=1,this.time.delayedCall(100,function(t){return h(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.explosionEffect(t),t.destroy();case 1:case"end":return e.stop()}},e,this)}))},[t],this);case 1:case"end":return e.stop()}},e,this)}))}}},{key:"onFall",value:function(t){return function(){return h(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.bombsFallen+=1,this.time.delayedCall(100,function(t){return h(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.explosionEffect(t),t.destroy(),this.bombsFallen>2&&this.gameOver();case 1:case"end":return e.stop()}},e,this)}))},[t],this);case 1:case"end":return e.stop()}},e,this)}))}}},{key:"emitBomb",value:function(){var t=d().Math.Between(100,200),e=d().Math.FloatBetween(.12,.17),n=d().Math.Between(25,m.hh-25),o=this.physics.add.image(n,25,"bomb");o.setAngle(180),o.setDisplaySize(m.hh*e,.15*m.Xn),o.setVelocity(0,t),o.setInteractive(),o.on("pointerdown",this.onClick(o),this),this.physics.add.collider(o,this.floor,this.onFall(o),null,this)}},{key:"gameOver",value:function(){this.music.destroy(),this.deadSound.play(),this.scene.start("ScoreScene",{bombsCaught:this.bombsCaught})}},{key:"explosionEffect",value:function(t){var e=this.explosions.get().setActive(!0);e.setOrigin(.5,.5),e.x=t.x,e.y=t.y,this.explosionSound.play(),e.play("explode")}}]),a}(d().Scene),g=function(e){o(a,e);var i=s(a);function a(){var e;return t(this,a),(e=i.call(this,{key:"ScoreScene"})).hintText="Touch to restart",e}return n(a,[{key:"init",value:function(t){this.score=t.bombsCaught}},{key:"preload",value:function(){this.load.image("background","assets/games/k-boom/space.jpg")}},{key:"update",value:function(t){var e,n=Number((t/1e3).toFixed(0));null===(e=this.hint)||void 0===e||e.destroy(),n%2!=0&&(this.hint=this.add.text(this.calculateHalfOfHalf(m.hh),this.calculateHalfOfHalf(m.Xn)+75,this.hintText,{font:"2rem Arial Bold",color:"#BC00FF"}))}},{key:"create",value:function(){this.add.tileSprite(0,m.Xn/2,2*m.hh,2*m.Xn,"background").setAngle(90);var t="Your score is "+this.score;this.result=this.add.text(this.calculateHalfOfHalf(m.hh),this.calculateHalfOfHalf(m.Xn)-50,t,{font:"2rem Arial Bold",color:"#FBFBAC"}),this.input.on("pointerdown",function(){this.scene.start("WelcomeScene")},this)}},{key:"calculateHalfOfHalf",value:function(t){return t/2/2}}]),a}(d().Scene);function y(t){return t/2/2}var b,v,k=function(e){o(a,e);var i=s(a);function a(){var e;return t(this,a),(e=i.call(this,{key:"WelcomeScene"})).hintText="Touch!",e}return n(a,[{key:"preload",value:function(){this.load.audio("menu-music","assets/games/k-boom/k-boom_menu.mp3"),this.load.audio("start-sound","assets/games/k-boom/start-game.wav"),this.load.bitmapFont("Xenon","assets/fonts/xenon/Xenon.png","assets/fonts/xenon/Xenon.fnt"),this.load.bitmapFont("Minecraft","assets/fonts/minecraft/minecraft-green.png","assets/fonts/minecraft/minecraft-green.fnt"),this.load.image("background-menu","assets/games/k-boom/menu_background.jpg")}},{key:"create",value:function(){this.startGameSound=this.sound.add("start-sound",{volume:1}),this.music=this.sound.add("menu-music",{volume:.5,loop:!0}),this.music.play(),this.add.tileSprite(0,m.Xn,2*m.hh,2*m.Xn,"background-menu"),this.title=this.add.bitmapText(y(m.hh)/2.5,y(m.Xn)-100,"Xenon","K-BOOM!",m.hh/5),this.input.on("pointerdown",function(){this.startGameSound.play(),this.music.destroy(),this.scene.start("GameScene")},this)}},{key:"update",value:function(t){var e,n=Number((t/1e3).toFixed(0));null===(e=this.hint)||void 0===e||e.destroy(),n%2!=0&&(this.hint=this.add.bitmapText(y(m.hh)+50,m.Xn-100,"Minecraft",this.hintText,m.hh/10))}}]),a}(d().Scene),x=a(639),w=[{path:"",component:(b=function(){function e(n){t(this,e),this.router=n}return n(e,[{key:"ngOnInit",value:function(){}},{key:"onNavigateTo",value:function(){this.router.navigate(["/game-loader"],{state:{gameName:"K-BOOM!",scenes:[k,p,g]}})}},{key:"ngOnDestroy",value:function(){}}]),e}(),b.\u0275fac=function(t){return new(t||b)(x.Y36(l.F0))},b.\u0275cmp=x.Xpm({type:b,selectors:[["app-home"]],decls:9,vars:0,consts:[["slot","start"],[1,"ion-padding","ion-text-center"],[3,"click"]],template:function(t,e){1&t&&(x.TgZ(0,"ion-header"),x.TgZ(1,"ion-toolbar"),x.TgZ(2,"ion-buttons",0),x._UZ(3,"ion-back-button"),x.qZA(),x.TgZ(4,"ion-title"),x._uU(5,"Games"),x.qZA(),x.qZA(),x.qZA(),x.TgZ(6,"ion-content",1),x.TgZ(7,"ion-button",2),x.NdJ("click",function(){return e.onNavigateTo()}),x._uU(8,"Play K-BOOM"),x.qZA(),x.qZA())},directives:[u.Gu,u.sr,u.Sm,u.oU,u.cs,u.wd,u.W2,u.YG],styles:[""]}),b)}],O=function(){var e=function e(){t(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=x.oAB({type:e}),e.\u0275inj=x.cJS({imports:[[l.Bz.forChild(w)],l.Bz]}),e}(),S=((v=function e(){t(this,e)}).\u0275fac=function(t){return new(t||v)},v.\u0275mod=x.oAB({type:v}),v.\u0275inj=x.cJS({imports:[[r.ez,c.u5,u.Pc,O]]}),v)}}])}();